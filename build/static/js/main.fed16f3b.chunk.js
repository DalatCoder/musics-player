(this.webpackJsonpmusics=this.webpackJsonpmusics||[]).push([[0],{26:function(e,t,n){e.exports=n(63)},27:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);n(27);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),s=n(7),i=n(1),u=n(23),l=(n(38),n(39),n(3)),p=n(4),g=n(5),m=n(6),f=(n(40),function(e){Object(m.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"music-info"},r.a.createElement("h4",null,this.props.song.title),r.a.createElement("div",{className:"progress-container"},r.a.createElement("div",{className:"progress",style:{width:"".concat(this.props.progressPercent,"%")}})))}}]),n}(r.a.Component)),d=Object(i.b)((function(e){return{song:e.currentSong,progressPercent:e.progressPercent}}))(f),h=(n(41),Object(i.b)((function(e){return{song:e.currentSong}}))((function(e){var t=e.song;return r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:t.cover,alt:"".concat(t.title," cover")}))}))),v=(n(42),n(12)),S=n.n(v),b=n(24),E=n(25),y=n.n(E).a.create({baseURL:"https://dalatcoder-mp3-app.herokuapp.com"});function O(e){var t=Math.floor(e/60),n=e%60,a="";return t<10&&(a+="0"),a+=t.toString(),a+=":",n<10&&(a+="0"),a+=n.toString()}function N(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}var j=function(){return{type:"PLAYING"}},P=function(){return{type:"PAUSING"}},w=function(e){Object(m.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onPlaySong=function(){e.props.playSong()},e.onPauseSong=function(){e.props.pauseSong()},e}return Object(p.a)(n,[{key:"togglePlayButton",value:function(e){return e?r.a.createElement("button",{className:"action-btn action-btn-big",onClick:this.onPauseSong},r.a.createElement("i",{className:"fas fa-pause"})):r.a.createElement("button",{className:"action-btn action-btn-big",onClick:this.onPlaySong},r.a.createElement("i",{className:"fas fa-play"}))}},{key:"render",value:function(){var e=this.props.isPlaying;return r.a.createElement("div",{className:"navigation"},r.a.createElement("button",{className:"action-btn"},r.a.createElement("i",{className:"fas fa-backward"})),this.togglePlayButton(e),r.a.createElement("button",{className:"action-btn"},r.a.createElement("i",{className:"fas fa-forward"})))}}]),n}(r.a.Component),k=Object(i.b)((function(e){return{isPlaying:e.isPlaying}}),{playSong:j,pauseSong:P})(w),C=function(e){Object(m.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).audio=new Audio(e.props.song.src),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.audio.addEventListener("ended",(function(){return e.props.pauseSong()})),this.audio.addEventListener("timeupdate",(function(){e.props.calcCurrentProgress(e.audio.duration,e.audio.currentTime)}))}},{key:"render",value:function(){return this.audio.src=this.props.song.src,this.props.isPlaying?this.audio.play():this.audio.pause(),null}}]),n}(r.a.Component),G=Object(i.b)((function(e){return{song:e.currentSong,isPlaying:e.isPlaying}}),{pauseSong:P,calcCurrentProgress:function(e,t){return{type:"CURRENT_PROGRESS",payload:100*t/e}}})(C),_=Object(i.b)((function(e){return{isPlaying:e.isPlaying}}))((function(e){return r.a.createElement("div",{className:"music-container ".concat(e.isPlaying?"play":"")},r.a.createElement(d,null),r.a.createElement(G,null),r.a.createElement(h,null),r.a.createElement(k,null))})),T=(n(61),n(62),function(e){Object(m.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSongClick=function(t){e.props.selectSong(t),e.props.playSong(),e.props.hideSuggestBox()},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return this.props.songs.map((function(t){return r.a.createElement("div",{className:"song",key:t.id},r.a.createElement("div",{className:"song-photo"},r.a.createElement("img",{src:t.cover,alt:"".concat(t.title," cover")})),r.a.createElement("div",{className:"song-info"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{onClick:function(){return e.onSongClick(t)}},t.title)),r.a.createElement("div",{className:"artist"},r.a.createElement("span",null,t.artist))),r.a.createElement("div",{className:"song-duration"},r.a.createElement("span",null,t.duration)))}))}}]),n}(r.a.Component)),B=Object(i.b)((function(e){return console.log(e),{songs:e.fetchedSongs}}),{selectSong:function(e){return{type:"SONG_SELECTED",payload:e}},playSong:j,hideSuggestBox:function(){return{type:"HIDE_SUGGEST_BOX"}}})(T),U=function(e){Object(m.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={term:""},e.onSearchSubmit=function(t){t.preventDefault(),e.props.fetchSongs(N(e.state.term)),e.setState({term:""})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-container ".concat(this.props.showSuggest?"show-suggest":"")},r.a.createElement("form",{className:"form",onSubmit:this.onSearchSubmit},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Nh\u1eadp t\xean b\xe0i h\xe1t",spellCheck:"false",value:this.state.term,onChange:function(t){return e.setState({term:t.target.value})},onFocus:function(){return e.props.showSuggestBox()}}),r.a.createElement("button",{type:"submit",className:"btn"},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"suggest"},r.a.createElement(B,null)))}}]),n}(r.a.Component),x=Object(i.b)((function(e){return{showSuggest:e.showSuggest}}),{fetchSongs:function(e){return function(){var t=Object(b.a)(S.a.mark((function t(n){var a,r,c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/".concat(e));case 2:a=t.sent,r=a.data.data||[],c=r.map((function(e){return{title:e.name,cover:(n=e.thumb,"https://photo-resize-zmp3.zadn.vn/w480_r1x1_jpeg/"+n),src:(t=e.id,"http://api.mp3.zing.vn/api/streaming/audio/".concat(t,"/320")),artist:e.artist,duration:O(e.duration),id:e.id};var t,n})),n({type:"FETCH_SONGS",payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},showSuggestBox:function(){return{type:"SHOW_SUGGEST_BOX"}}})(U),A=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(x,null),r.a.createElement(_,null))},R={title:"Ukulele",cover:"assets/images/ukulele.jpg",src:"assets/music/ukulele.mp3",author:"unknown",duration:"unknown"},D=Object(s.c)({isPlaying:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAYING":return!0;case"PAUSING":return!1;default:return e}},currentSong:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SONG_SELECTED":return t.payload;default:return e}},progressPercent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_PROGRESS":return t.payload;default:return e}},fetchedSongs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SONGS":return t.payload;default:return e}},showSuggest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HIDE_SUGGEST_BOX":return!1;case"SHOW_SUGGEST_BOX":return!0;default:return e}}}),L=Object(s.d)(D,Object(s.a)(u.a));o.a.render(r.a.createElement(i.a,{store:L},r.a.createElement(A,null)),document.querySelector("#root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.fed16f3b.chunk.js.map